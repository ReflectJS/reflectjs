<!DOCTYPE html>
<html :test=[[() => {
  const s1 = document.getElementById('content').innerHTML.replace(/\s+/g, ' ');
  const s2 = ` <div data-reflectjs=\"3\"> <b>Product: <!---t0-->Thingy<!---/--></b> <div>Price: <!---t1-->1$<!---/--></div> <p></p> </div>`
  + ` <div data-reflectjs=\"4\"> <b>Product: <!---t0-->Widget<!---/--></b> <div>Price: <!---t1-->2$<!---/--></div> <p></p> </div>`
  + ` <div data-reflectjs=\"5\"> <b>Product: <!---t0-->Gadget<!---/--></b> <div>Price: <!---t1-->3$<!---/--></div> <p></p> </div> `;
  return (s1 === s2 ? 'OK' : s1);
}]]>
  <body>
    <:define tag="app-product" :name :price>
      <b>Product: [[name]]</b>
      <div>Price: [[price]]</div>
      <p/>
    </:define>

    <div id="content">
      <app-product :name="Thingy" :price="1$"/>
      <app-product :name="Widget" :price="2$"/>
      <app-product :name="Gadget" :price="3$"/>
    </div>
  </body>
</html>
